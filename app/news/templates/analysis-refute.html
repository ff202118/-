{% extends 'base.html' %}


{% block navbar %}
<script>
    var url1 = "{{ url_for('news.index') }}";
    var url2 = "{{ url_for('news.rumors_follow') }}";
    var url3 = "{{ url_for('news.analysis') }}";
</script>
<div style="float: left">
    <nav class="nav">
        <input type="radio" name="nav-item-opt" id="nav-item-opt-1">
        <label class="nav-item" for="nav-item-opt-1" onclick="window.location.href=url1;">
            蛛丝马迹
        </label>

        <input type="radio" name="nav-item-opt" id="nav-item-opt-2">
        <label class="nav-item" for="nav-item-opt-2" onclick="window.location.href=url2;">
            智能分析
        </label>

        <input type="radio" name="nav-item-opt" id="nav-item-opt-3" checked>
        <label class="nav-item" for="nav-item-opt-3" onclick="window.location.href=url3;">
            数读平台
        </label>

        <label class="nav-item">
            关于我们
        </label>
        <div class="tracker"></div>
    </nav>
</div>

<div class="user_info">
    <span>
        欢迎,&nbsp;&nbsp;{{ g.user.username }}&nbsp;&nbsp;
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAZFJREFUSEvt1k9LFVEUAPCf+AEqBPdRSNBGXOgiIl0EQd+gRZsgcOFSBHWnILSsjbRo4ycQhDZBfyioCMSF2qL8AEFBtTbjwDwYRufN3DtPRPCsHsw953fvfXfm3CFnFENn5MqFL2GumPQz/E5dQA58BR8xVmD7mMLfFDwFvowlPELg5fiJF1jFnzYTaAs/wFOMNBT9gcfYbMLbwMtYaSpUeT6L9X45TfA0XieiMfwIk/hSl9sPjmdfS4co1X+P2znwfWylapXxE9g+qUa/Fcdh6r2ruf4CnqTCL3EvVyzyNvAwFY5DFYerS7zC3VT4De50UfG2bvL9/uMLOGfXz89WX8cHjOYss5QTTeMWvlXrnHS4bhSnsSvaswKfwV4Zr8LRZw8QvXeQ8QtXy726Csd7G6/RaUTUftcrXIWjlX06DbW4Hn2ug4fxHNcGjH8vbiaHdfCAvfpyTTeQauZ4cauInSnHP0Tv3Wk781Q46kZ/na8Aa1hsi8a4HDjybhYfhvgdH5rdFLQLnOocG5+74s7wf3miPB/OgoyfAAAAAElFTkSuQmCC"
             style="width: 16px;"/>
        登录时间:
    </span>
    <script>
        var now = new Date();
        var str = now.toLocaleTimeString();

        document.write(str);
    </script>

    <button id="logout_button" class="top_block_item_button" style="background-color: #0a0a0a">退出</button>
</div>

<script>
document.getElementById('logout_button').addEventListener('click', function() {
    // 在点击按钮时执行以下代码
    window.location.href = '/user/logout';  // 将页面重定向到 '/logout' 路由
});
</script>
{% endblock navbar %}

{% block sidebar %}
{% endblock sidebar %}

{% block top_block %}
{% endblock top_block %}

{% block inner_block %}
{% endblock inner_block %}

{% block box %}
<style>
    .navi a:hover {
        background-color: #DD5044;
        color: #F0F8FF;
    }
</style>
<div class="container">
    <div class="navi" style="border-bottom: 3px solid #DD5044;">
        <a href="{{ url_for('news.analysis') }}">谣言分析</a>
        <a href="{{ url_for('news.analysis_refute') }}" style="background-color: #DD5044;color:#F0F8FF;">辟谣分析</a>
        <a href="{{ url_for('news.analysis_summary') }}">汇总统计</a>
    </div>

    <div class="box">
        <div class="box1">
            <div class="title" style="color: #dd5044">┃ 热点辟谣事件</div>

            <div class="content">

                <div class="c-right" id="options">
                    {% for ne in news %}
                    <div>
                        <span class="she-hui" style="background-color: #dd5044">类别</span>
                        <span class="option"
                              onclick="showContent(this, '{{ ne.content }}','{{ ne.title }}','{{ ne.date }}','{{ ne.source }}','{{ ne.detail_url }}')">
                            {{ ne.title }}
                        </span>
                    </div>
                    {% endfor %}
                </div>

                <div class="c-left">
                    <a href="" id="title-display" style="text-decoration: none;"> </a>
                    <div style="margin: 4px 0 4px 0;font-size: 13px;color: gray">
                        <span id="source-display"></span>
                        <span id="date-display"></span>
                    </div>
                    <div style="color: black;font-size: 14px;" id="content-display">
                    </div>
                </div>

            </div>

        </div>

        <div class="box2">
            <div class="title" style="color: #dd5044">▶ 近期走势</div>
            <div id="lineChart" style="width:770px; height: 280px"></div>
        </div>
    </div>

    <div class="box3">
        <div class="title" style="background-color: #f196bc;">辟谣榜</div>
        <div style="background-color: #fba4c4;">
            <span style="margin-left: 30px;color: white;font-size: 13px;">发布者</span>
            <span style="display: inline-block; float:right; margin-right: 15px;color: white;font-size: 13px;">辟谣数</span>
        </div>

        {% for rumor in rumors_rank %}
        {% if loop.index is even %}
        <div style="background-color: #F9F9F9">
            {% else %}
            <div>
                {% endif %}
                <div class="Rank">
                    {% if loop.index <= 3 %}
                    <span class="Rank-id" style="background-color: red;">{{ loop.index }}</span>
                    {% elif loop.index <= 8%}
                    <span class="Rank-id" style="background-color: #FF8547">{{ loop.index }}</span>
                    {% else %}
                    <span class="Rank-id" style="background-color: #FFAC38">{{ loop.index }}</span>
                    {% endif %}

                    <a style="text-decoration: none;" href="{{ rumor.detail_url }}">
                        {{ rumor.source }} </a>
                    <span style="display: inline-block; float:right;">{{ rumor.counts }}</span>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="box">
            <div class="box4">
                <div class="title" style="color: #dd5044">▲ 热门关键字</div>
                <div id="wordCloudChart" style="width: 520px; height: 520px;"></div>
            </div>

            <div class="box5">
                <div class="title" style="color: #dd5044">▲ 类别统计</div>
                 <div id="pictorialBar" style="width: 520px; height: 500px;"></div>
            </div>
        </div>


    </div>
</div>

<script>
    var chartDom = document.getElementById('pictorialBar');
    var myChart = echarts.init(chartDom);
    var counts = {{ counts | tojson}}
    const pathSymbols = {
        Information: 'path://M289.96,226.696 M533.936,571.28a23.6,23.6,0,1,0-43.888,0l-98.312,248.512a30.744,30.744,0,0,0,3.168,28.672,30.784,30.784,0,0,0,25.504,13.496h183.168a30.824,30.824,0,0,0,28.68-42.168L533.936,571.28z M512,452.592m-67.848,0a67.848,67.848,0,1,0,135.696,0,67.848,67.848,0,1,0-135.696,0Z M388.96,550.552c-22.4-28.08-34.232-61.96-34.232-97.968,0-31.824,9.448-62.472,27.32-88.624a24.664,24.664,0,1,0-40.736-27.84,205.552,205.552,0,0,0-35.928,116.464,207.2,207.2,0,0,0,44.992,128.728,24.64,24.64,0,0,0,19.304,9.288,24.664,24.664,0,0,0,19.28-40.048zM682.664,336.08a24.672,24.672,0,1,0-40.728,27.856,156.544,156.544,0,0,1,27.344,88.656c0,35.992-11.832,69.872-34.224,97.96a24.656,24.656,0,0,0,19.272,40.04,24.64,24.64,0,0,0,19.312-9.28,207.28,207.28,0,0,0,44.976-128.712,205.568,205.568,0,0,0-35.952-116.52z M221.344,452.592c0-79.08,31.208-153.032,87.864-208.224a24.656,24.656,0,0,0,0.456-34.88,24.648,24.648,0,0,0-34.88-0.456C208.504,273.584,172,360.08,172,452.592c0,91.6,35.896,177.504,101.072,241.888,4.808,4.752,11.072,7.12,17.336,7.12a24.656,24.656,0,0,0,17.336-42.216c-55.712-55.048-86.4-128.496-86.4-206.792zM749.208,209.032a24.672,24.672,0,0,0-34.424,35.344c56.664,55.192,87.872,129.144,87.872,208.224,0,78.328-30.696,151.76-86.44,206.816a24.648,24.648,0,0,0,17.336,42.208c6.264,0,12.528-2.368,17.336-7.112,65.208-64.384,101.112-150.296,101.112-241.928,0-92.488-36.496-178.992-102.792-243.552z',
        Entertainment: 'path://M909.135926,920.271544,684.514075,920.271544c-0.206708-0.684592-0.446162-1.36509-0.730641-2.037403l-50.870598-120.131031c37.015032-14.876826,70.860884-36.009122,100.236935-62.078871l21.500687,21.499663-24.105001,24.105001c-7.79043,7.79043-7.79043,20.421098,0,28.211529,3.895727,3.89368,8.999978,5.842055,14.105253,5.842055s10.209526-1.948375,14.105253-5.842055l76.41846-76.41846c7.79043-7.79043,7.79043-20.421098,0-28.211529-7.792477-7.788383-20.419052-7.788383-28.211529,0l-24.102954,24.102954-21.439288-21.439288c50.609655-56.55404,82.84073-129.873929,87.193875-210.493062l28.603455,0,0,33.911344c0,11.016915,8.931416,19.947308,19.947308,19.947308s19.947308-8.930393,19.947308-19.947308L917.112598,423.574065c0-11.016915-8.931416-19.947308-19.947308-19.947308s-19.947308,8.930393-19.947308,19.947308l0,33.911344-28.754904,0c-4.828982-79.310324-36.633339-151.443178-86.342484-207.331046l20.738323-20.738323,24.102954,24.101931c3.895727,3.894703,8.999978,5.842055,14.105253,5.842055,5.106298,0,10.209526-1.948375,14.105253-5.843078,7.79043-7.79043,7.79043-20.420075,0-28.210505l-76.41846-76.416414c-7.792477-7.79043-20.419052-7.789407-28.211529,0.001023-7.79043,7.79043-7.79043,20.420075,0,28.210505l24.103978,24.102954-20.709671,20.709671c-56.417941-50.376341-129.473817-82.480526-209.794144-86.912465L524.142551,106.406448l33.911344,0c11.015891,0,19.947308-8.930393,19.947308-19.947308s-8.931416-19.947308-19.947308-19.947308L450.338638,66.511833c-11.015891,0-19.947308,8.930393-19.947308,19.947308s8.931416,19.947308,19.947308,19.947308l33.911344,0,0,28.694529c-79.846536,4.76656-152.438854,36.870746-208.53343,87.070055l-20.966521-20.966521,24.102954-24.102954c7.79043-7.79043,7.79043-20.421098,0-28.211529-7.792477-7.79043-20.419052-7.79043-28.211529,0l-76.416414,76.416414c-7.79043,7.79043-7.79043,20.421098,0,28.211529,3.894703,3.894703,9.001001,5.842055,14.105253,5.842055s10.210549-1.947352,14.105253-5.842055l24.102954-24.102954,21.026896,21.026896c-49.562812,55.847959-81.264838,127.869273-86.085634,207.043497l-30.30419,0,0-33.911344c0-11.016915-8.930393-19.947308-19.947308-19.947308s-19.947308,8.930393-19.947308,19.947308l0,107.717304c0,11.016915,8.930393,19.947308,19.947308,19.947308s19.947308-8.930393,19.947308-19.947308L131.175575,497.381048l30.153764,0c4.344958,80.482009,36.475749,153.690358,86.938048,210.204489l-21.727861,21.727861-24.102954-24.102954c-7.79043-7.786337-20.421098-7.788383-28.210505,0-7.79043,7.79043-7.791453,20.421098-0.001023,28.211529l76.416414,76.41846c3.895727,3.89368,8.999978,5.842055,14.105253,5.842055,5.104251,0,10.209526-1.948375,14.105253-5.842055,7.79043-7.79043,7.79043-20.421098,0-28.211529l-24.102954-24.103978,21.756513-21.756513c30.93557,27.514657,66.845431,49.541323,106.199741,64.549132l-47.684022,118.233821c-0.229221,0.568958-0.420579,1.144056-0.594541,1.720178L111.228267,920.271544c-11.016915,0-19.947308,8.931416-19.947308,19.947308s8.930393,19.947308,19.947308,19.947308l797.907659,0c11.015891,0,19.947308-8.931416,19.947308-19.947308S920.151817,920.271544,909.135926,920.271544zM617.355513,761.366418l-83.647095-197.532889c6.540973-2.212388,12.750395-5.145184,18.523889-8.725732l152.672168,152.671145C679.160137,730.269166,649.610124,748.500389,617.355513,761.366418zM454.918957,478.619752c0-27.600615,22.454408-50.053999,50.053999-50.053999,25.588795,0,46.739511,19.305695,49.687656,44.11473-0.373507,1.52575-0.593518,3.111874-0.593518,4.753257,0,1.882883,0.278339,3.697205,0.766456,5.423523-2.160199,25.622564-23.688515,45.815465-49.860595,45.815465C477.373365,528.672728,454.918957,506.219343,454.918957,478.619752zM484.249983,782.164093c-16.492626-1.11438-32.632211-3.532453-48.307216-7.182586l48.307216-119.777991L484.249983,782.164093zM524.145621,643.559315l55.108109,130.137942c-17.803481,4.483104-36.225039,7.385201-55.108109,8.565073L524.145621,643.559315zM733.176378,679.628812,580.664869,527.119349c5.760191-8.959046,9.983375-18.99154,12.273535-29.738301l215.703737,0C804.385187,567.007825,776.612657,630.374014,733.176378,679.628812zM808.490691,457.485409l-216.101803,0c-2.295276-9.492188-6.094812-18.399045-11.140735-26.456558l152.629189-152.629189C776.422322,326.979076,803.780413,389.164371,808.490691,457.485409zM705.694467,250.160503,553.141002,402.713968c-8.759501-5.579065-18.537192-9.685593-28.995381-11.965519L524.145621,174.97615C593.474616,179.308829,656.57884,206.954469,705.694467,250.160503zM484.249983,175.074388l0,216.032218c-10.006911,2.369977-19.367093,6.411013-27.777647,11.819187L303.96185,250.41633C352.754113,207.387327,415.393755,179.728384,484.249983,175.074388zM275.81172,278.688233l152.671145,152.671145c-4.942569,7.969509-8.665357,16.764825-10.92891,26.126031L201.454198,457.485409C206.15629,389.30047,233.412051,327.22467,275.81172,278.688233zM201.303772,497.381048l215.70169,0c2.261507,10.613732,6.407943,20.531616,12.059664,29.40675L276.512684,679.340239C233.222739,630.126374,205.552539,566.870702,201.303772,497.381048zM304.751842,707.523115,457.381032,554.894949c6.344498,3.972475,13.208836,7.184633,20.478404,9.488095L397.630183,763.311723C363.291097,750.321874,331.897086,731.296565,304.751842,707.523115zM420.865373,812.366975c20.467147,5.15951,41.657772,8.473999,63.384609,9.770528l0,30.312376-33.911344,0c-11.015891,0-19.947308,8.931416-19.947308,19.947308s8.931416,19.947308,19.947308,19.947308l107.717304,0c11.015891,0,19.947308-8.931416,19.947308-19.947308s-8.931416-19.947308-19.947308-19.947308l-33.911344,0,0-30.213116c24.365944-1.344624,48.058552-5.244444,70.827115-11.420097l46.350654,109.455901L377.347231,920.272567,420.865373,812.366975z',
        Society: "path://M227.643077,811.323077c-7.876923,0-14.178462-5.513846-15.753846-13.390769-3.938462-29.144615-6.301538-59.076923-6.301539-89.009231,0-267.815385,179.593846-507.273846,436.381539-582.104615,8.664615-2.363077,17.329231,2.363077,19.692307,11.027692,2.363077,8.664615-2.363077,17.329231-11.027692,19.692308-243.396923,70.892308-413.538462,297.747692-413.538461,552.172307,0,28.356923,2.363077,56.713846,6.301538,84.283077,1.575385,8.664615-4.726154,16.541538-13.390769,18.116923-0.787692-0.787692-1.575385-0.787692-2.363077-0.787692z M708.923077,387.544615m-59.076923,0a59.076923,59.076923,0,1,0,118.153846,0,59.076923,59.076923,0,1,0-118.153846,0Z M863.310769,706.56c-1.575385,0-3.938462,0-5.513846-0.787692-237.883077-87.433846-396.996923-316.652308-396.996923-569.501539v-18.904615c0-8.664615,7.876923-15.753846,16.541538-14.966154,8.664615,0,15.753846,7.876923,14.966154,16.541538v17.329231c0,240.246154,151.236923,456.861538,376.516923,539.569231,7.876923,3.150769,12.603077,11.815385,9.452308,20.48-3.150769,6.301538-8.664615,10.24-14.966154,10.24z M637.243077,687.655385c-194.56,0-382.030769-70.104615-527.753846-197.71077-6.301538-5.513846-7.089231-15.753846-1.575385-22.055384,5.513846-6.301538,15.753846-7.089231,22.055385-1.575385,140.209231,122.88,320.590769,189.833846,507.273846,189.833846,84.283077,0,166.203077-13.390769,245.76-40.172307,7.876923-3.150769,17.329231,1.575385,19.692308,10.24,3.150769,7.876923-1.575385,17.329231-10.24,19.692307-81.92,27.569231-167.778462,41.747692-255.212308,41.747693z M512,937.353846c-234.732308,0-425.353846-190.621538-425.353846-425.353846s190.621538-425.353846,425.353846-425.353846,425.353846,190.621538,425.353846,425.353846-190.621538,425.353846-425.353846,425.353846z,m0-787.692308c-200.073846,0-362.338462,162.264615-362.338462,362.338462s162.264615,362.338462,362.338462,362.338462,362.338462-162.264615,362.338462-362.338462-162.264615-362.338462-362.338462-362.338462z M352.098462,335.556923m-59.076924,0a59.076923,59.076923,0,1,0,118.153847,0,59.076923,59.076923,0,1,0-118.153847,0Z M515.150769,671.901538m-59.076923,0a59.076923,59.076923,0,1,0,118.153846,0,59.076923,59.076923,0,1,0-118.153846,0Z",
        Sports: 'path://M979.308512,0.076066c86.670943-1.974781,158.567598,67.544823,160.542379,155.276296,1.938211,87.731473-66.776853,160.432669-153.484365,162.40745-86.670943,1.974781-158.567598-67.508253-160.542379-155.239726v-3.547292C824.800186,72.228711,893.51525,1.136596,979.271942,0.149206V0.039496zM0,452.447188c72.042935-2.413621,144.159011-4.717532,216.201946-6.911733l31.303936,34.448957,285.611841,228.452903a38.398519,38.398519,0,0,1-8.484245,40.59272l-101.042959,66.740282a69.519604,69.519604,0,0,1-63.266132-9.215644,194135.963327,194135.963327,0,0,1-347.707731-287.513482C0,508.435886,1.755361,469.013407,0,452.447188z,m324.01036-348.877971c-38.105959,0.29256-20.22322,33.498137-1.462801,48.894114,91.059345,75.882787,182.11869,151.655865,273.287744,227.319232l-142.11109,103.456581c-24.538482,17.736459-3.474152,68.129944,14.957138,82.977371l545.478389,441.582967h216.128806c-6.399753-26.074423-3.474152-60.45024-25.160172-77.638148-154.398616-123.606661-308.650952-247.213322-462.830148-370.819983,50.686045-40.30016,101.29895-80.60032,151.729004-120.900479a44.834842,44.834842,0,0,0-5.522072-60.45024c-110.441454-92.851276-220.809769-185.409991-331.068373-277.712717-77.638148,0.91425-155.422577,1.974781-233.462995,3.291302z',
        Technology: 'path://M553.2394,778.224h-0.05c-7.99,0-16.092-0.08-24.08-0.231-139.472-2.679-270.492-28.227-368.938-71.938C55.6134,659.625-1.2666,597.068,0.0224,529.92c1.252-65.252,57.605-124.407,158.69-166.561,94.734-39.506,220.97-61.264,355.443-61.264,7.972,0,16.073,0.077,24.073,0.226,139.475,2.673,270.495,28.221,368.947,71.943,104.553,46.43,161.437,108.98,160.144,176.124-1.248,65.262-57.613,124.412-158.693,166.567-94.715,39.508-220.944,61.269-355.386,61.269m-39.085-431.16c-128.673,0-248.76,20.528-338.137,57.802C93.6154,439.232,45.8614,485.124,44.9814,530.786c-0.904,47.198,47.734,96.106,133.445,134.166,93.081,41.336,217.934,65.515,351.543,68.075,7.702,0.152,15.512,0.224,23.224,0.224h0.046c128.648,0,248.713-20.528,338.087-57.796,82.392-34.364,130.153-80.26,131.03-125.926,0.906-47.205-47.732-96.111-133.44-134.162-93.09-41.346-217.94-65.518-351.546-68.08a1224.355,1224.355,0,0,0-23.214-0.223 M756.9434,1005.515c-59.176,0-131.026-32.34-207.793-93.514-75.843-60.441-149.83-143.674-213.94-240.688-76.91-116.372-130.195-238.778-150.027-344.65-21.076-112.447-1.83-194.769,54.203-231.8C259.5284,81.556,283.4234,74.8,310.3924,74.8c59.177,0,131.035,32.332,207.792,93.514,75.848,60.446,149.832,143.676,213.941,240.694,76.904,116.374,130.182,238.765,150.027,344.642,21.07,112.456,1.82,194.771-54.209,231.803-20.144,13.311-44.028,20.062-71,20.062M310.3934,119.77c-18.002,0-33.549,4.246-46.209,12.614-39.39,26.032-52.073,93.829-34.802,186,18.758,100.116,69.668,216.65,143.35,328.13,61.543,93.136,132.243,172.772,204.446,230.318,67.73,53.982,131.58,83.713,179.766,83.713,18,0,33.55-4.247,46.205-12.606,39.388-26.034,52.08-93.831,34.798-186.008-18.754-100.11-69.662-216.642-143.339-328.127-61.548-93.135-132.243-172.777-204.45-230.319-67.738-53.98-131.576-83.715-179.766-83.715 M336.2474,1022.571c-21.815,0-41.914-4.884-59.874-14.774-58.847-32.38-84.69-112.869-72.783-226.66,11.211-107.126,54.414-233.438,121.658-355.652C398.6414,292.103,493.0914,178.773,584.3814,114.555c10.16-7.147,24.19-4.707,31.334,5.448,7.145,10.163,4.707,24.185-5.456,31.332-85.885,60.418-175.404,168.245-245.604,295.836-64.417,117.082-105.735,237.347-116.342,338.652-9.757,93.266,8.37,159.819,49.734,182.574,41.363,22.758,107.278,2.454,180.845-55.713,79.893-63.172,159.371-162.448,223.786-279.529,70.2-127.587,113.367-260.914,118.428-365.804,0.605-12.404,11.138-21.978,23.546-21.378,12.402,0.6,21.976,11.14,21.38,23.544-5.38,111.497-50.557,251.94-123.949,385.319-67.24,122.217-150.808,226.318-235.3,293.128-62.346,49.294-120.885,74.607-170.536,74.607 M655.3074,113.592c0,29.6,12.182,59.013,33.111,79.95,20.93,20.929,50.348,33.11,79.952,33.11,29.602,0,59.014-12.181,79.945-33.11,20.934-20.937,33.112-50.352,33.112-79.95,0-29.602-12.178-59.021-33.112-79.95C827.3854,12.717,797.9724,0.528,768.3714,0.528c-29.604,0-59.023,12.189-79.952,33.112-20.93,20.93-33.11,50.349-33.11,79.95',
        Finance: 'path://M118.153846,676.627692L298.535385,512l166.990769,74.043077,82.707692-283.569231L937.353846,118.153846v787.692308H118.153846z M905.846154,937.353846H118.153846c-17.329231,0-31.507692-14.178462-31.507692-31.507692V275.692308c0-17.329231,14.178462-31.507692,31.507692-31.507693s31.507692,14.178462,31.507692,31.507693v598.646154h756.184616c17.329231,0,31.507692,14.178462,31.507692,31.507692s-14.178462,31.507692-31.507692,31.507692z M118.153846,708.135385c-8.664615,0-17.329231-3.150769-23.630769-10.24-11.815385-12.603077-11.027692-33.083077,2.363077-44.898462L277.267692,488.369231c9.452308-8.664615,22.843077-10.24,33.87077-5.513846l134.695384,59.076923,72.467692-248.91077c2.363077-8.664615,7.876923-14.966154,15.753847-18.904615l357.612307-184.32c15.753846-7.876923,34.658462-1.575385,42.535385,13.390769,7.876923,15.753846,1.575385,34.658462-13.390769,42.535385L575.015385,323.741538,496.246154,594.707692c-2.363077,8.664615-8.664615,15.753846-16.541539,19.692308s-17.329231,3.938462-25.993846,0l-148.873846-65.378462-165.415385,150.449231c-6.301538,5.513846-14.178462,8.664615-21.267692,8.664616z',
        Health: 'path://M924.7,349.2c-15.7,0-28.5,12.7-28.3,28.4,0.2,23.8-3.7,47.6-11.6,70.4-4.9,14.2,2,29.8,15.8,35.5,3.5,1.5,7.2,2.1,10.8,2.1,11.7,0,22.6-7.3,26.8-19,10.2-28.9,15.1-59.2,14.8-89.4-0.1-15.5-12.8-28-28.3-28z,m7.7-66c0,14.9-12,28.3-28.3,28.3-11.1,0-22.2-6.6-26.7-16.7-7-15.7-16.1-30.7-27.2-44.6-5.1-6.4-30.4-33-39.1-38.4-109.9-68.8-217.8,19.4-253.2,51.5-1.3,1.2-4.8,5.5-4.8,5.5l25.5,25c8.9,8.8,9.1,26.2-0.8,36.4-10.9,11.3-29,13.7-38.5,4.4l-23.8-22.9s-77.2,88.3-87.1,99.5c-0.6,0.7-1.4,1-2.3,1h-65.9v56h124.9V593H541V468h125v-56h-88.5c-7.3,0-13.9-2.9-18.7-7.7-4.9-4.9-7.9-11.7-7.7-19.3,0.3-14.4,12.5-25.8,26.9-25.8h107.4c18.4,0,33.4,15,33.4,33.4v94.8c0,18.4-14.9,33.4-33.4,33.4h-91.5v91.5c0,18.4-15,33.4-33.4,33.4h-94.7c-18.5,0-33.4-15-33.4-33.4v-91.5h-91.5c-18.4,0-33.4-15-33.4-33.4v-94.8c0-18.5,15-33.4,33.4-33.4h56c16.6-19,52.2-59.1,76.8-88.4l-0.3-0.3,0.1-0.1c-1.1-1.1-2.7-2.5-4.7-4.2-34-30.1-182-152-296-16.5-62.5,74.3-60.7,183.9,0,259.3,4.9,6.2,10.3,12.1,16.1,17.8l38.8,38.4,96.6,100.6,55.4,54.9L492,831.9c10.6,11.2,28.4,11.2,39.5,0l112.3-111.1,55.4-54.9,97.3-101.3,42.5-43.3c7.6-7.8,19-10.5,29.3-7.1,19.5,6.5,26,30.8,12.2,46.1-2,2.2-3.9,4.3-5.7,6l-23.3,23.1-54.9,54.4-22.3,22.1-50.4,54.9-152.3,150.6c-32.9,32.5-86.2,32.5-119.1,0L300.3,720.7l-50.4-54.9-22.2-21.9-54.9-54.4-23.5-23.2-2.5-2.5C44.9,460.4,46.7,294.9,149.4,192.3c75.1-75.1,156.6-67.1,201.2-59.3,85.5,15,161.2,93.2,161.2,93.2s72.3-80.5,161.6-94.4c55.7-8.6,140.4-6.2,203.9,63.5,27.2,29.9,40.1,48.7,52.5,76.3,1.8,3.8,2.6,7.8,2.6,11.6z',
        Education: 'path://M1081.372587,410.809524c24.821143-14.679773,39.220767-37.483848,39.220767-62.641169s-14.231536-47.961396-39.220767-62.641168l-455.801347-268.942405C588.311511-5.490907,532.281843-5.490907,494.854025,16.528752L39.220767,285.527187c-24.989232,14.679773-39.220767,37.483848-39.220767,62.641168s14.231536,47.961396,39.220767,62.641169l121.920557,72.054152,1.344712,365.98579a118.838925,118.838925,0,0,0,71.213708,108.585496A799.095121,799.095121,0,0,0,554.69371,1023.998207a778.812381,778.812381,0,0,0,343.181715-79.394039,95.250435,95.250435,0,0,0,53.004066-84.044502l2.913542-374.110091zM538.333047,90.207765a53.172155,53.172155,0,0,1,43.92726,0l437.031408,257.736471-437.031408,257.736472a53.172155,53.172155,0,0,1-43.92726,0L233.419596,426.161653a42.750636,42.750636,0,0,0-16.808901-10.029311L101.24561,348.168355z,m326.877082,769.455427a8.852687,8.852687,0,0,1-4.818552,8.012242A684.906658,684.906658,0,0,1,554.69371,938.440904a713.593848,713.593848,0,0,1-286.815869-59.447477,33.281623,33.281623,0,0,1-19.666413-30.480139l-1.288682-315.054822,247.931279,146.629641a137.832983,137.832983,0,0,0,130.885304,0l241.992135-142.819623z M1076.441976,453.672219a42.750636,42.750636,0,0,0-42.750636,42.750637v370.748311a42.806666,42.806666,0,0,0,85.557302,0V496.422856a42.806666,42.806666,0,0,0-42.806666-42.750637z',
        Military: 'path://M860.032,495.488c-54.4,54.4-130.304,79.36-201.728,91.136,32.64-45.696,28.544-109.568-12.544-150.528L486.4,276.608c-12.8-12.8-10.624-35.84,4.864-51.328,8.448-8.448,19.072-12.928,29.056-13.184l-10.624-10.624c-0.384-0.384-0.768-0.896-1.152-1.28-11.392-13.056-8.96-34.944,6.144-50.048,14.976-14.976,36.992-17.536,50.048-6.144,0.384,0.384,0.896,0.768,1.28,1.152l10.624,10.624c0.256-9.984,4.864-20.608,13.184-29.056,15.488-15.488,38.528-17.664,51.328-4.864l159.36,159.36c40.96,40.96,104.96,45.184,150.528,12.416-11.648,71.424-36.608,147.456-91.008,201.856z M1010.816,376.576c16.64-62.336,17.152-128.128,1.28-190.08,0-0.128-0.128-0.256-0.128-0.384v-0.128-0.128l-0.384-1.152c0-0.128-0.128-0.256-0.128-0.384-0.128-0.384-0.384-0.768-0.64-1.152,0-0.128-0.128-0.256-0.256-0.256-0.128-0.256-0.384-0.512-0.512-0.896-0.128-0.256-0.256-0.384-0.512-0.512l-0.384-0.384-0.384-0.384c-4.864-4.864-12.928-4.864-17.792,0-2.048,2.048-3.328,4.736-3.584,7.552-0.128,0.896-0.128,1.664,0,2.56,2.048,26.624-6.016,52.608-22.784,73.216-2.304,2.944-4.864,5.76-7.552,8.448-4.096,4.096-8.448,7.808-13.184,11.136-41.6,29.824-98.048,25.088-134.4-11.136l-49.536-49.536L811.52,202.24c3.456-1.408,6.016-4.096,7.168-7.68l30.976-90.88c1.536-4.48,0.384-9.6-3.072-12.928-3.328-3.328-8.448-4.608-12.928-3.072l-90.88,30.848c-3.456,1.152-6.272,3.84-7.68,7.168l-20.736,51.584L660.48,123.392c-20.352-20.352-53.632-20.48-73.984,0-4.224,4.224-7.68,9.216-10.24,14.592-20.736-17.152-51.2-15.872-70.4,3.328s-20.48,49.792-3.328,70.4c-5.376,2.56-10.24,6.016-14.592,10.24-20.48,20.48-20.48,53.632,0,73.984l52.608,52.608L57.088,831.872c-0.64,0.384-1.408,0.896-1.92,1.408l-18.176,18.176c-3.2,3.2-3.712,8.192-1.408,11.904-1.152,1.28-1.92,2.688-2.304,4.224l-15.232,5.76c-6.272,2.432-11.264,7.296-13.824,13.568l-1.28,3.2c-5.12,12.8-2.304,26.88,7.424,36.736l0.128,0.128c9.728,9.728,23.808,12.672,36.608,7.552l3.2-1.28c6.4-2.56,11.392-7.68,13.824-13.952l5.248-13.952c2.176-0.256,4.224-1.152,5.888-2.688l0.256-0.256c3.328,1.152,7.296,0.384,9.984-2.304l16.384-16.384c0.768-0.512,1.408-1.024,2.048-1.664l485.12-485.12,48,48c36.224,36.224,40.96,92.672,11.136,134.4-3.328,4.608-7.04,9.088-11.136,13.184-2.688,2.688-5.504,5.248-8.448,7.552-20.608,16.64-46.72,24.704-73.216,22.656h-1.024c-6.912,0-12.544,5.632-12.544,12.544,0,3.456,1.408,6.656,3.712,8.96,0.384,0.384,0.768,0.64,1.152,1.024l0.128,0.128c0.256,0.256,0.64,0.384,0.896,0.64,0.256,0.128,0.384,0.256,0.64,0.384,0.256,0.128,0.512,0.256,0.896,0.384,0.256,0.128,0.512,0.256,0.896,0.384,0.256,0.128,0.512,0.128,0.768,0.256,0.128,0,0.256,0.128,0.384,0.128,61.952,15.872,127.744,15.488,190.08-1.28,64.256-17.152,123.264-51.328,170.752-98.816,47.232-47.616,81.408-106.624,98.688-170.88zM756.48,140.544l61.184-20.864-20.864,61.184-56.064,22.656-6.784-6.784,22.528-56.192zM81.024,877.056l-2.432,2.432-21.12-21.12,2.432-2.432,21.12,21.12z,m-37.888,38.272l-3.2,1.28c-5.632,2.176-11.52,1.024-15.744-3.328-4.224-4.352-5.504-10.24-3.2-15.744l1.28-3.2c0.512-1.28,1.536-2.176,2.688-2.688l13.952-5.248L51.2,898.56l-5.248,13.824c-0.512,1.408-1.536,2.432-2.816,2.944z,m51.712-60.032l-12.8-12.8,476.288-476.288,12.8,12.8L94.848,855.296z,m528.64-222.08c7.296-3.84,14.208-8.448,20.736-13.696,3.584-2.944,7.168-6.016,10.496-9.344,5.12-5.12,9.728-10.496,13.824-16.256,36.992-51.712,31.104-121.856-13.824-166.784l-56.832-56.832-0.128-0.128-0.128-0.128-30.464-30.464-0.128-0.128-0.128-0.128-61.312-61.312c-10.624-10.624-10.624-27.904,0-38.4,5.504-5.504,13.184-8.448,20.992-7.936,5.248,0.384,10.112-2.56,12.288-7.424,2.176-4.736,1.152-10.368-2.56-14.08l-12.928-12.928-1.024-1.024c-9.6-10.752-9.216-27.136,1.024-37.376s26.624-10.624,37.376-1.024c0.384,0.256,0.64,0.64,1.024,1.024l12.928,12.928c3.712,3.712,9.344,4.736,14.08,2.56,4.736-2.176,7.68-7.04,7.424-12.288-0.512-7.808,2.432-15.488,7.936-20.992,10.624-10.624,27.776-10.624,38.4,0l148.992,148.992c45.056,45.056,115.2,50.816,166.784,13.824,5.76-4.096,11.264-8.704,16.256-13.824,3.328-3.328,6.528-6.912,9.344-10.496,5.248-6.528,9.856-13.44,13.696-20.736,5.504,99.072-31.616,198.4-103.68,270.592-71.936,72.32-171.392,109.44-270.464,103.808z',
        // Other: 'path://M486.4,563.2h51.2a25.6,25.6,0,0,0,25.6-25.6v-51.2a25.6,25.6,0,0,0-25.6-25.6h-51.2a25.6,25.6,0,0,0-25.6,25.6v51.2a25.6,25.6,0,0,0,25.6,25.6z,m-153.6,0h51.2a25.6,25.6,0,0,0,25.6-25.6v-51.2a25.6,25.6,0,0,0-25.6-25.6h-51.2a25.6,25.6,0,0,0-25.6,25.6v51.2a25.6,25.6,0,0,0,25.6,25.6zM819.2,153.6H204.8a102.4,102.4,0,0,0-102.4,102.4v512a102.4,102.4,0,0,0,102.4,102.4h614.4a102.4,102.4,0,0,0,102.4-102.4V256a102.4,102.4,0,0,0-102.4-102.4z,m0,614.4H204.8V256h614.4z,m-179.2-204.8h51.2a25.6,25.6,0,0,0,25.6-25.6v-51.2a25.6,25.6,0,0,0-25.6-25.6h-51.2a25.6,25.6,0,0,0-25.6,25.6v51.2a25.6,25.6,0,0,0,25.6,25.6z'
    };
    const labelSetting = {
        show: true,
        position: 'right',
        offset: [10, 0],
        fontSize: 16,
    };
    option = {
          title: {
            text: '类别数量统计', left: 'center', // 标题水平居中
            top: '5%', // 距离顶部的位置，可以是像素值或百分比
          },
        legend: {
            data: ['2015']
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow'
            }
        },
        grid: {
            containLabel: true,
            left: 20,
            top: 60
        },
        yAxis: {
            data: [
                '资讯',
                '娱乐',
                '体育',
                '社会',
                '科技',
                '财经',
                '健康',
                '教育',
                '军事',
                // '其它'
            ],
            inverse: true,
            axisLine: {show: false},
            axisTick: {show: false},
            axisLabel: {
                margin: 30,
                fontSize: 16,
                fontWeight: 'bold'
            },
            axisPointer: {
                label: {
                    show: true,
                    margin: 30
                }
            }
        },
        xAxis: {
            splitLine: {show: false},
            axisLabel: {show: false},
            axisTick: {show: false},
            axisLine: {show: false}
        },
        series: [
            {
                type: 'pictorialBar',
                label: labelSetting,
                symbolRepeat: true,
                symbolSize: ['100%', '100%'],
                barCategoryGap: '40%',
                data: [
                    {
                        value: counts['资讯'],
                        symbol: pathSymbols.Information,
                        itemStyle: {
                            color: '#5470c6'
                        }
                    },
                    {
                        value: counts['娱乐'],
                        symbol: pathSymbols.Entertainment,
                        itemStyle: {
                            color: '#91cc75'
                        }
                    },
                    {
                        value: counts['体育'],
                        symbol: pathSymbols.Sports,
                        itemStyle: {
                            color: '#fac858'
                        }
                    },
                    {
                        value: counts['社会'],
                        symbol: pathSymbols.Society,
                        itemStyle: {
                            color: '#ee6666'
                        }
                    },
                    {
                        value: counts['科技'],
                        symbol: pathSymbols.Technology,
                        itemStyle: {
                            color: '#73c0de'
                        }
                    },
                    {
                        value: counts['财经'],
                        symbol: pathSymbols.Finance,
                        itemStyle: {
                            color: '#3ba272'
                        }
                    },
                    {
                        value: counts['健康'],
                        symbol: pathSymbols.Health,
                        itemStyle: {
                            color: '#fc8452'
                        }
                    },
                    {
                        value: counts['教育'],
                        symbol: pathSymbols.Education,
                        itemStyle: {
                            color: '#9a60b4'
                        }
                    },
                    {
                        value: counts['军事'],
                        symbol: pathSymbols.Military,
                        itemStyle: {
                            color: '#ea7ccc'
                        }
                    },
                    // {
                    //     value: 123,
                    //     symbol: pathSymbols.Other,
                    //     itemStyle: {
                    //         color: '#ea7ccc'
                    //     }
                    // }
                ]
            }
        ]
    };
    myChart.setOption(option);
</script>
<script>
    var chartDom = document.getElementById('wordCloudChart');
    var myChart = echarts.init(chartDom);
    var option;

    // 词云图的数据，每个词条包含名称和权重
    var data = {{ word_weight | tojson }}


    option = {
        series: [{
            tooltip: {
                show: true
            },
            type: 'wordCloud',
            data: data,
            sizeRange: [18, 30],
            width: '100%',
            height: '100%',
            left: 'center',
            top: 'center',
            rotationRange: [-90, 180],
            shape: 'hexagon',
            textStyle: {
                fontWeight: '550',
                color: function () {
                    return 'rgb(' + [
                        Math.round(Math.random() * 260),
                        Math.round(Math.random() * 260),
                        Math.round(Math.random() * 260)
                    ].join(',') + ')';
                },

            },
            emphasis: {
                focus: 'series',
            }
        }],
        events: {
            click: function (params) {
                // 点击事件处理函数
                var word = params.name; // 获取点击的词语名称
                alert('You clicked on: ' + word);
                // 可以在这里添加更多点击事件的处理逻辑
            }
        }
    };

    // 使用配置项绘制词云图
    myChart.setOption(option);
</script>
<script>
    var chartDom = document.getElementById('lineChart');
    var myChart = echarts.init(chartDom);
    var option;
    var date = {{ news_date | tojson }}
    var count = {{ news_count | tojson }}
    option = {
        title: {
            text: '近期辟谣数量统计',
            textStyle: {
                textAlign: 'center'
            }
        },
        grid: {
            // 设置网格组件与容器的距离
            left: '1%', // 左边距
            right: '1%', // 右边距
            top: '15%', // 上边距
            bottom: '10%', // 下边距
            containLabel: true // 确保标签不会裁切
        },
        xAxis: {
            type: 'category',
            data: date,
            axisLabel:{
                fontFamily: 'Arial',
                fontSize: 12,
                color: '#000000'
            }
        },
        yAxis: {
            type: 'value'
        },
        series: [
            {
                data: count,
                type: 'line',
                smooth: true,
                label: {
                    show: true, // 显示数值
                    position: 'top' // 数值显示在折线的顶部
                }
            }
        ]
    };
    // 使用配置项绘制图表
    myChart.setOption(option);
</script>
<script>

    window.onload = function () {
        // 默认点击第一个选项
        var firstOption = document.querySelector('.c-right .option');
        showContent(firstOption, "{{ news[0].content }}", '{{ news[0].title }}', '{{ news[0].date }}', '{{ news[0].source }}', '{{ news[0].detail_url }}');
    }

    function showContent(selectedItem, content, title, date, source, detail_url) {
        // 清除所有选中项的样式
        var allItems = document.querySelectorAll('.c-right .option');
        allItems.forEach(function (item) {
            item.classList.remove('selected');
        });
        // 添加选中项的样式
        selectedItem.classList.add('selected');

        var truncatedContent = content.length > 150 ? content.substring(0, 150) + '...' : content;
        document.getElementById('content-display').innerText = truncatedContent;
        document.getElementById('title-display').innerText = title;
        document.getElementById('date-display').innerText = date;
        document.getElementById('source-display').innerText = source;
        document.getElementById('title-display').href = detail_url;
    }

</script>

{% endblock box %}
